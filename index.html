<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Comece a utilizar Computação em Nuvem hoje!</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/sky.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<style>
			.columns-slide {
				width: 100%; 
				margin:0px auto;
			}

			.left-slide {
				width: 30% ; 
				float:left; 
				margin: 0.5%;
			}

			.right-slide {
				width: 65% ; 
				float:right; 
				margin: 0.5%;
			}

			.wall {
				width: 100%; 
				margin:0px auto;
				background-color: #F8F3D6; 
				padding: 10px !important; 
				padding-top: 30px !important;
			}


			.withmargin {
				background: none repeat scroll 0 0 rgba(255, 255, 255, 0.12);
			    border: 4px solid #333333;
			    box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);
			    margin: 15px 0;
			    transition: all 0.2s linear 0s;
			}
		</style>
	</head>
	<body>
<!--
O que é a núvem?
Evolução dos servidores de internet
IaaS
PaaS
SaaS
Provedores de Núvem
Vantagens de se criar uma aplicação na núvem?
	Infraestrutura elástica
	Escalabilidade vertical x horizontal
	Segurança
	Alta disponibilidade
	Replicação

Serviços de Núvem
	EC2
	ELB
	S3
	CloudFront
	RDS
	...

Estudo de Caso
	Movendo uma aplicação existente para núvem
	Server Afinity
		Disco
		Memória
		Configurações Fixas
	Balanceamento de carga
	Sessão distribída
	Processo de deploy
	Banco de Dados
		Ponto Único de Falha
	Monitoramento
	Logs
	
O que eu preciso fazer para criar a minha aplicação na núvem?

Problemas!
	Programando para falha

-->
		<div class="reveal">
			<div class="slides">

				<section>
					<h2>Comece a utilizar Computação em Nuvem <u>hoje!</u></h2>
					<hr />
					<p>
						<small>Welington Veiga</a> / <a href="http://twitter.com/welingtonveiga">@welingtonveiga</a></small>
					</p>
				</section>

				<section>
					<h2>Sobre mim...</h2>
					<div class="columns-slide">
						<br />
						<div class="left-slide">
							<img width="320" src="img/me.jpg" alt="Welington Veiga">
						</div>
						<div class="right-slide" style="font-size: 0.8em">
							<ul>
								<li>Mestre em Ciência da Computação pela UFJF</li>
								<li>Gerente de Desenvolvimento na AfferoLab</li>
								<li>Professor na Faculdade Metodista Granbery</li>
								<li>Certified ScrumMaster pela Scrum Alliance.</li>
							</ul>
							<div style="float:right">
								<img width="320" src="img/afferolab.png" alt="">
								<img width="110" src="img/scm.jpg" alt="">
							</div>
						</div>
					</div>
					<div style="clear:both"/>
					
				</section>
        
				<section>
					<h3>E você?</h3>
					<div class="columns-slide">
						<br />
						<div class="left-slide">
							<img height="400" src="img/who.png" alt="you" />
						</div>
						<div class="right-slide" >
							<ul>
								<li class="fragment">Está em qual período?</li>
								<li class="fragment">Trabalha com TI?</li>
								<li class="fragment">Já ouviu falar em <srong>Computação em Nuvem</strong>?</li>
								<li class="fragment">Conhece a Amazon AWS?</li>
							</ul>
							<br />
							<br />
							<h3 class="fragment">Bem vindo a bordo!</h3>
						</div>
					</div>
				</section>

				<!-- PARTE I Introdução -->

				<section>
					<h3>Afinal, o que é a Nuvem?</h3>
					<p class="fragment"> <i>"Computação em nuvem é o fornecimento de serviços de computação – servidores, armazenamento, bancos de dados, rede, software, análise e muito mais – pela Internet (“a nuvem”)"</i></p>
					<p class="fragment"> Microsoft</p>
				</section>

				<section>
					<h3>Afinal, o que é a Nuvem?</h3>
					<img class="fragment" src="img/computacao-nas-nuvens.gif" alt="you" />
				</section>

				<section>
					<h3>Serviços disponíveis na núvem...</h3>
					<img class="fragment" src="img/cloud.jpg" alt="you" />
				</section>

				<section>
					<h3>Onde está a núvem?</h3>
					<img class="fragment" src="img/managed-providers.jpg"/>
				</section>

				<section>
					<h4>Isso não é a mesma coisa que virtualização?</h4>
					<strong class="fragment">Não!</strong><br />
					<img width="60%" class="fragment" src="img/cloudxvirtualization.png"/>
				</section>	

				<section>
					<h4>Infraestrutra como Serviço</h4>
					<img class="fragment" src="img/iaas.png"/>
					<ul>
						<li class="fragment">IaaS - Infraestructure as a Service</li>
						<li class="fragment">Recursos como espaço em disco, rede, processamento.</li>
						<li class="fragment">Alto nível de flexibilidade.</li>
						<li class="fragment">Gerenciamento de assemelha a infra local.</li>
					</ul>
				</section>				

				<section>
					<h4>Plataforma como Serviço</h4>
					<img class="fragment" src="img/paas.png"/>
					<ul>
						<li class="fragment">PaaS - Platform as a Service</li>
						<li class="fragment">Não é necessário se preocupar com o hardware ou SO</li>
						<li class="fragment">Serviços a partir do qual se constrói as Aplicações.</li>
						<li class="fragment">Computação, armazenamento, rede gerenciados.</li>
					</ul>
				</section>		

				<section>
					<h4>Software como Serviço</h4>
					<img class="fragment" src="img/saas.png"/>
					<ul>
						<li class="fragment">SaaS - Software as a Service</li>
						<li class="fragment">Produtos completos para se integrarem às soluções.</li>
						<li class="fragment">Não pe necessário saber nada sobre a infraestrutura subjacente.</li>
						<li class="fragment">Webmail</li>
					</ul>
				</section>


				<section>
					<h4>Por que utilizar cloud computing na minha próxima aplicação?</h4>
					<img src="img/doubts.jpg"/>
				</section>

				<section>
					<h4>Motivo 1: Custo</h4>
					<img  class="fragment" width="80%" src="img/cost.jpg"/>
				</section>

				<section>
					<h4>Motivo 2: Velocidade</h4>
					<img  class="fragment" width="70%" src="img/speed.png"/>
				</section>

				<section>
					<h4>Motivo 3: Escalabilidade</h4>
					<img  class="fragment" width="70%" src="img/scalability.gif"/>
				</section>

				<section>
					<h4>Motivo 4: Produtividade</h4>
					<img  class="fragment" width="70%" src="img/productivity.png"/>
				</section>

				<section>
					<h4>Motivo 5: Desempenho</h4>
					<img  class="fragment" width="70%" src="img/datacenter.jpg"/>
				</section>

				<section>
					<h4>Motivo 6: Confiabilidade</h4>
					<img  class="fragment" width="70%" src="img/disaster.jpg"/>
				</section>


				<section>
					<h4>Escalabilidade Vertical x Horizontal</h4>
					<div class="columns-slide">
						<br />
						<div class="left-slide" style="width: 50%">
							<img  class="fragment" height="400" src="img/vertical.png" alt="you" />
						</div>
						<div class="right-slide" style="width: 50%">
							<img  class="fragment" height="400" src="img/horizontal.png" alt="you" />
						</div>
					</div>
				</section>

				<section>
					<h4>Te convenci?</h4>
					<img  class="fragment" width="70%" src="img/still-not-convinced_image.gif"/>
				</section>

				<section>
					<h4>AWS - Amazon Web Services</h4>
					<img width="40%" src="img/aws.png" alt="" style="border: 0px; box-shadow: none;">
					<hr />
					<div style="float:right">
						<img width="128" src="img/netflix.png" alt="">
						<img height="60" src="img/slack.jpg" alt="">
						<img height="60" src="img/wemotors.png" alt="">
						<img height="60" src="img/globo.png" alt="">
						<img height="60" src="img/NuBank.png" alt="">
						<img height="60" src="img/foursquare.png" alt="">
						<img height="60" src="img/nasa.png" alt="">
						<img height="60" src="img/airbnb.png" alt="">
					</div>
				</section>

				<section>
					<h4>Amazon Elastic Compute Cloud - EC2</h4>
					<img  class="fragment" width="60%" src="img/ec2.jpg"/>
					<ul>
						<li class="fragment">Diferentes níveis de recursos de hardware.</li>
						<li class="fragment">Pagamento por utilização, redimensionamento.</li>
						<li class="fragment">Escalabilidade infinita*.</li>
					</ul>
				</section>

				<section>
					<h4>Auto Scaling</h4>
					<img  class="fragment" width="60%" src="img/autoscaling.png"/>
				</section>

				<section>
					<h4>Elastic Load Balancer- ELB</h4>
					<img  class="fragment" src="img/elb.png"/>
				</section>

				<section>
					<h4>Simple Storage Service - S3</h4>
					<img  class="fragment" src="img/s3.gif"/>
				</section>

				<section>
					<h4>Relational Database Service - RDS</h4>
					<img  class="fragment" src="img/s3.png"/>
				</section>

				<section>
					<h4>CloudFront</h4>
					<img  class="fragment" width="50%" src="img/cloudfront.gif"/>
				</section>

				<section>
					<h4>Outros serviços...</h4>
					<img  class="fragment" src="img/amazonservices.png"/>
				</section>

				<section>
					<h4>Outros provedores...</h4>
					<img  class="fragment" src="img/providers.png"/>
				</section>

				<section>
					<h3>Estudo de Caso</h3>
					<ul  style="font-size: 0.8em">
						<li class="fragment">Um novo cliente para um sistema legado.</li>
						<li class="fragment">O sistema iniciado em 2004, e sem equipe dedicada há 2 anos.</li>
						<li class="fragment">Média de usuários era de 500 usuários, no máximo 1000.</li>
						<li class="fragment">O novo cliente possuia 80000 funcionários</li>
						<ul class="fragment">
							<li>Origados a utilizar o sistema.</li>
							<li  class="fragment">Mensalmente</li>
						</ul>
					</ul>
				</section>

				<section>
					<h4>Estudo de Caso</h4>
					<p>O que fazer?</p>
					<ul  style="font-size: 0.8em">
						<li class="fragment">Aumentar o hardware?</li>
						<li class="fragment">Refatorar o código?</li>
						<li class="fragment">Ter fé?</li>
					</ul>
					<hr class="fragment"/>
					<p class="fragment">Estratégia:</p>

					<ul  style="font-size: 0.8em">
						<li class="fragment">Realizar testes de carga e coletar métricas.</li>
						<li class="fragment">Refatorar apenas <b>pontos específicos</b>.</li>
						<li class="fragment">Adicionar camadas de cache.</li>
					</ul>
					<hr class="fragment"/>
					<h5 class="fragment">Os resultados não foram bons o bastante....</h5>
				</section>

				<section>
					<h4>Estudo de Caso</h4>
					<p>Cenário</p>
					<ul  style="font-size: 0.8em">
						<li class="fragment">JBOSS 4</li>
						<li class="fragment">Java EE</li>
						<li class="fragment">Cache em memória.</li>
						<li class="fragment">Arquivos em disco.</li>
						<li class="fragment">16GB de RAM e 4 núcleos...</li>
					</ul>
					<hr class="fragment"/>
					<p class="fragment">Estratégia:</p>
					<h5 class="fragment">Vamos clusterizar!</h5>
				</section>

				<section>
					<h4>Performance <i>versus</i> Escalabilidade</h4>
					<img   width="80%" class="fragment" src="img/space-car-bus-bike.jpg"/>
				</section>


				<section>
					<h4>Como era nossa infraestrutura?</h4>
					<div class="columns-slide">
						<div class="left-slide" style="width: 50%">
							<img  class="fragment"  src="img/sc1.png" alt="you" />
						</div>
						<div class="right-slide" style="width: 50%">
							<br />
							<ul  style="font-size: 0.8em">
								<li class="fragment">Windows Server</li>
								<li class="fragment">Jboss 4.2</li>
								<li class="fragment">Java 6</li>
								<li class="fragment">Muitos recursos</li>
								<li class="fragment">SGBD SQL Server 2008</li>
							</ul>
						</div>
					</div>
				</section>

				<section>
					<h4>Passo 1: Precisamos rodar máquinas menores para clusterizar.</h4>
					<div class="columns-slide">
						<div class="left-slide" style="width: 50%">
							<img  class="fragment"  src="img/sc2.png" alt="you" />
						</div>
						<div class="right-slide" style="width: 50%">
							<br />
							<ul  style="font-size: 0.8em">
								<li class="fragment">Linux baseado em CentOS</li>
								<li class="fragment">Tomcat 7</li>
								<li class="fragment">Java 7</li>
								<li class="fragment">Mantivemos o SQL Server 2008</li>
								<li class="fragment">Máquina quase 4x mais barata.</li>
							</ul>
						</div>
					</div>
				</section>

				<section>
					<h4>Passo 2: Remover Server Affinity I.</h4>
					<div class="columns-slide">
						<div class="left-slide" style="width: 50%; padding-top: 50px">
							<img  class="fragment"  src="img/sc4.png" alt="you" />
						</div>
						<div class="right-slide" style="width: 50%">
							<br />
							<ul  style="font-size: 0.8em">
								<li class="fragment">Etapa com mais mudanças em código.</li>
								<ul>
									<li class="fragment">Remover variáveis mutáveis estáticas.</li>	
									<li class="fragment">Remover caches da memória/disco local.</li>
									<li class="fragment">Remover configurações locais.</li>
								</ul>
								<li class="fragment">Utilizamos o ElastiCache.</li>
								<ul>
									<li class="fragment">Cache em memória.</li>	
									<li class="fragment">Sessões do Tomcat.</li>
									<li class="fragment">Cache N2 do Hibernate.</li>
								</ul>
							</ul>
						</div>
					</div>
				</section>

				<section>
					<h4>Passo 2: Remover Server Affinity II.</h4>
					<div class="columns-slide">
						<div class="left-slide" style="width: 50%">
							<img  class="fragment"  src="img/sc3.png" alt="you" />
						</div>
						<div class="right-slide" style="width: 50%">
							<br />
							<ul  style="font-size: 0.8em">
								<li class="fragment">Utilizamos S3</li>
								<ul>
									<li class="fragment">Arquivos de usuário.</li>	
									<li class="fragment">Fotos.</li>
									<li class="fragment">Configuração.</li>
									<li class="fragment">Scripts.</li>
									<li class="fragment">Pacotes da aplicação.</li>
									<li class="fragment">Logs.</li>
								</ul>
							</ul>
						</div>
					</div>
				</section>

				<section>
					<h4>Passo 3: Enfim o cluster</h4>
					<br />
					<div class="columns-slide">
						<div class="left-slide" style="width: 50%">
							<img  class="fragment"  src="img/sc5.png" alt="you" />
						</div>
						<div class="right-slide" style="width: 50%">
							<ul  style="font-size: 0.8em">
								<li class="fragment">Adicionar um Load Balancer.</li>
								<li class="fragment">Criamos 3 instâncias.</li>
								<li class="fragment">Balanceamento por Round-Robin (RR).</li>
							</ul>
							<hr class="fragment"/>
							<h5 class="fragment">Primeiros resultados significativos...</h5>
						</div>
					</div>
				</section>

				<section>
					<h4>Passo 4: Adicionando elasticidade ao Cluster</h4>
					<div class="columns-slide">
						<div class="left-slide" style="width: 50%">
							<img  class="fragment"  src="img/sc6.png" alt="you" />
						</div>
						<div class="right-slide" style="width: 50%">
							<br />
							<ul  style="font-size: 0.6em">
								<li class="fragment">Criamos um Auto-Scaling Group</li>
								<li class="fragment">Métricas enviadas para o Cloud-Watch.</li>
								<li class="fragment">Criamos critérios para UP e DOWN.</li>
								<li class="fragment">O Cluster final tem entre 1 e 3 máquinas.</li>
							</ul>
						</div>
					</div>

					<div style="clear:both"/>
						<hr class="fragment"/>
						<h5 class="fragment">Eficiência de custo!</h5>
				</section>

				<section>
					<h3>Benefícios Adicionais</h3>
					<ul>
						<li class="fragment">Simplificação da operação de plataforma.</li>
						<li class="fragment">Facilitação dos processos de backup.</li>
						<li class="fragment">Possibilidade de realizar deploys RED-GREEN.</li>
						<li class="fragment">Custo baixo na maior parte do mês.</li>
						<li class="fragment">Possibilidade de escalar além dos 80 mil usuários sem alterações.</li>
					</ul>
				</section>

				<section>
					<h3>Limitações</h3>
					<ul>
						<li class="fragment">Ainda temos pontos únicos de falha.</li>
						<li class="fragment">SGBD passa a ser um limitador - replicação de leitura.</li>
						<li class="fragment">Maior complexidade no desenvolvimento.</li>
						<li class="fragment">Relatórios!!!</li>
					</ul>
				</section>

				<section>
					<h3>Lições Aprendidas</h3>
					<ul>
						<li class="fragment">Não é possível possível conduzir um projeto baseado em hipóteses.</li>
						<ul>
							<li class="fragment">Testes de carga com objetivos pré-definidos.</li>
							<li class="fragment">Ferramentas de monitoramento da aplicação e dos recursos.</li>
						</ul>
						<li class="fragment">É preciso desenvolver e incentivar o conhecimento em Sistemas Distribuídos.</li>
						<li class="fragment">Computação em Núvem não é assunto para grandes Players!</li>
					</ul>
				</section>

				<section>
					<h3>Passos para criar minha próxima aplicação na núvem:</h3>
					?
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			Reveal.initialize({
				history: true,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
